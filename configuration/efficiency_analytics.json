[
    {
        "type": "Usage Analytics",
        "typeDescription": "Analytics that demonstrate if jobs have used the resources that they requested.",
        "analytics": [
            {
                "analytic": "CPU Usage",
                "description": "Ratio of idle core cycles to total cycles",
                "title": "CPU Usage",
                "field": "avg_percent_cpu_idle",
                "statistics": [
                    "avg_percent_cpu_idle",
                    "wall_time"
                ],
                "filters" : {},
                "statisticLabels": [
                    "Average CPU % Idle: Weighted by Core Hour",
                    "Total CPU Hours"
                ],
                "statisticDescription": [
                    "<ul><li><b>Average CPU % Idle: Weighted by Core Hour:</b> The average CPU idle % weighted by core hours, over all jobs that were executing.</li></ul><ul><li><b>CPU Hours: Total:</b> The total core time, in hours.<br/><i>Core Time:</i> defined as the time between start and end time of execution for a particular job times the number of allocated cores.</li></ul>"
                ],
                "valueLabels": [
                    "%",
                    "Core Hours"
                ],
                "reversed": false,
                "realm": "SUPREMM",
                "documentation": [
                    "<div class='text'>",
                    "<h6> What is this analytic? </h6>",
                    "<p>A measure of the ratio of idle core cycles to total cycles.</p>",
                    "<h6> Why is this analytic important? </h6>",
                    "<p> The requested core cycles are not being used on the resource and could be used by other jobs.</p>",
                    "<h6> How do I improve future jobs? </h6>",
                    "<p> Give actions here that users can follow to improve this behavior in future jobs. </p>",
                    "</div>"
                ],
                "histogram": {
                    "title": "CPU User",
                    "metric": "wall_time",
                    "metricTitle": "CPU Hours",
                    "group_by" : "cpuuser",
                    "groupByTitle": "CPU User",
                    "rotate": true,
                    "arrowImg" : "right_arrow.png"
                }
            },
            {
                "analytic": "GPU Usage",
                "description": "Measure of overall average GPU Usage for a GPU job",
                "title": "GPU Usage",
                "field": "avg_percent_gpu_active",
                "statistics": [
                    "avg_percent_gpu_active",
                    "gpu_time"
                ],
                "statisticLabels": [
                    "Avg GPU active: weighted by gpu-hour",
                    "GPU Hours: Total"
                ],
                "statisticDescription":  [
                    "<ul><li><b>Avg GPU active: weighted by gpu-hour: </b> The average GPU usage % weighted by gpu hours, over all jobs that were executing.</li></ul><ul><li><b>GPU Hours: Total</b> The total GPU time in hours for all jobs that were executing during the time period. The GPU time is calculated as the number of allocated GPU devices multiplied by the wall time of the job.</li></ul>"
                ],
                "valueLabels": [
                    "%",
                    "GPU Hours"
                ],
                "reversed": true,
                "realm": "SUPREMM",
                "documentation": [
                    "<div class='text'>",
                    "<h6> What is this analytic? </h6>",
                    "<p> A measure of overall GPU Usage for GPU jobs.</p>",
                    "<h6> Why is this analytic important? </h6>",
                    "<p> Jobs not using the requested resources could be used by other jobs. </p>",
                    "<h6> How do I improve future jobs? </h6>",
                    "<p> Give actions here that users can follow to improve this behavior in future jobs. </p>",
                    "</div>"
                ],
                "histogram": {
                    "title": "GPU Usage",
                    "metric": "gpu_time",
                    "metricTitle": "GPU Hours Total",
                    "group_by" : "gpu_usage_bucketid",
                    "groupByTitle": "GPU Active Value",
                    "rotate": true,
                    "arrowImg" : "right_arrow.png"
                }
            },
            {
                "analytic": "Memory Headroom",
                "description": "Measure of the memory allocated for the job to the high-water mark memory usage",
                "title": "Memory Headroom",
                "field": "avg_max_memory_per_core",
                "statistics": [
                    "avg_max_memory_per_core",
                    "wall_time"
                ],
                "statisticLabels": [
                    "Avg: Max Memory: weighted by core-hour",
                    "Total CPU Hours"
                ],
                "statisticDescription": [
                    "<ul><li><b>Avg: Max Memory: weighted by core-hour: </b>The average job max memory usage percentage weighted by core-hour. Max Memory usage is defined as memory used / total available for the largest memory usage measured during the execution of the job.</li></ul><ul><li><b>CPU Hours: Total:</b> The total core time, in hours.<br/><i>Core Time:</i> defined as the time between start and end time of execution for a particular job times the number of allocated cores.</li></ul>"
                ],
                "valueLabels": [
                    "%",
                    "Core Hours"
                ],
                "reversed": true,
                "realm": "SUPREMM",
                "documentation": [
                    "<div class='text'>",
                    "<h6> What is this analytic? </h6>",
                    "<p> A measure of memory allocated for the hob to the high-water memory mark.</p>",
                    "<h6> Why is this analytic important? </h6>",
                    "<p> Resources that are requested and not used could be used by other jobs. </p>",
                    "<h6> How do I improve future jobs? </h6>",
                    "<p> Give actions here that users can follow to improve this behavior in future jobs. </p>",
                    "</div>"
                ],
                "histogram": {
                    "title": "Memory Headroom",
                    "metric": "wall_time",
                    "metricTitle": "CPU Hours Total",
                    "group_by" : "max_mem",
                    "groupByTitle": "Peak Memory Usage (%)",
                    "rotate": true,
                    "arrowImg" : "double_headed_arrow.png"
                }
            },
            {
                "analytic": "Homogeneity",
                "description": "A measure of how uniform the L1D load rate is over the lifetime of the job.",
                "title": "Homogeneity",
                "field": "avg_percent_cpu_idle",
                "statistics": [
                    "avg_percent_cpu_idle",
                    "wall_time"
                ],
                "statisticLabels": [
                    "Average CPU % Idle: Weighted by Core Hore",
                    "Total CPU Hours"
                ],
                "statisticDescription": [
                    "<ul><li><b>Avg: Homogeneity: weighted by node-hour: </b>The average homogeneity value weighted by node hour. The homogeneity is a measure of the how uniform the L1D load rate is over the lifetime of a job. Jobs with low homogeneity value (near 0) should be investigated to check if an error has caused data processing to stop prematurely.</li></ul><ul><li><b>CPU Hours: Total:</b> The total core time, in hours.<br/><i>Core Time:</i> defined as the time between start and end time of execution for a particular job times the number of allocated cores.</li></ul>"
                ],
                "valueLabels": [
                    "%",
                    "Core Hours"
                ],
                "reversed": true,
                "realm": "SUPREMM",
                "documentation": [
                    "<div class='text'>",
                    "<h6> What is this analytic? </h6>",
                    "<p></p>",
                    "<h6> Why is this analytic important? </h6>",
                    "<p></p>",
                    "<h6> How do I improve future jobs? </h6>",
                    "<p> Give actions here that users can follow to improve this behavior in future jobs. </p>",
                    "</div>"
                ],
                "histogram": {
                    "title": "Homogeneity",
                    "metric": "wall_time",
                    "metricTitle": "CPU Hours",
                    "group_by" : "homogeneity_bucket_id",
                    "groupByTitle": "Homogeneity",
                    "rotate": true,
                    "arrowImg" : "right_arrow.png"
                }
            }
        ]
    },
    {
        "type": "Design Analytics",
        "typeDescription": "Analytics that demonstrate if a resource is being used as it is designed.",
        "analytics": [
            {
                "analytic": "Wall Time Accuracy",
                "description": "Ratio of wall time used to wall time allocated",
                "title": "Wall Time Accuracy",
                "field": "wall_time_accuracy",
                "statistics": [
                    "wall_time_accuracy",
                    "requested_wall_time"
                ],
                "statisticLabels": [
                    "Wall Time Accuracy",
                    "Wall Time Allocated"
                ],
                "statisticDescription": [
                    "<ul><li><b>Wall Time Accuracy: </b> The ratio of total job wall time to total requested wall time during the time period. The wall time and requested wall time contribution outside of the time period are not included in the calculation. The requested wall time is defined as the user requested linear time between start and end time for execution of a particular job.'</li></ul><ul><li><b>Wall Hours: Requested: Total: </b>The total time, in hours, jobs requested for execution.</li></ul>"
                ],
                "valueLabels": [
                    "%",
                    "Hours"
                ],
                "reversed": true,
                "realm": "SUPREMM",
                "documentation": [
                    "<div class='text'>",
                    "<h6> What is this analytic? </h6>",
                    "<p> A measure of wall time used compared to the wall time requested.</p>",
                    "<h6> Why is this analytic important? </h6>",
                    "<p> Wall time that is not being used by your job could be used by jobs elsewhere. This in turn could improve overall wait time.</p>",
                    "<h6> How do I improve future jobs? </h6>",
                    "<p> Give actions here that users can follow to improve this behavior in future jobs. </p>",
                    "</div>"
                ],
                "histogram": {
                    "title": "Wall Time Accuracy",
                    "metric": "wall_time",
                    "metricTitle": "Core Hours",
                    "group_by" : "wall_time_accuracy_bucketid",
                    "groupByTitle": "Wall Time Accuracy Value",
                    "rotate": true,
                    "arrowImg" : "right_arrow.png"
                }
            },
            {
                "analytic": "Short Job Count",
                "description": "Count of all jobs that were running for less than a threshold (30s)",
                "title": "Short Job Count",
                "field": "job_count",
                "statistics": [
                    "job_count",
                    "job_count"
                ],
                "mandatoryFilters" : {"jobwalltime" : "[0,1]"},
                "statisticLabels": [
                    "Number of Short Jobs (< 30s)",
                    "Total Number of Jobs Ended"
                ],
                "statisticDescription": [
                    "<ul><li><b>Number of Short Jobs(<30s): </b>Total number of jobs ended within the time period selected with a wall time of less than 30 seconds.</li></ul><ul><li><b>Total Number of Jobs Ended:</b> Total number of jobs ended within the time period selected.</li></ul>"
                ],
                "valueLabels": [
                    "Jobs",
                    "Jobs"
                ],
                "reversed": false,
                "realm": "SUPREMM",
                "documentation": [
                    "<div class='text'>",
                    "<h6> What is this analytic? </h6>",
                    "<p>A count of the number of jobs that ended with a wall time of less than 30 seconds compared to the total number of jobs that ended.</p>",
                    "<h6> Why is this analytic important? </h6>",
                    "<p> A large number of short jobs strains the scheduler. </p>",
                    "<h6> How do I improve future jobs? </h6>",
                    "<p> Give actions here that users can follow to improve this behavior in future jobs. </p>",
                    "</div>"
                ],
                "histogram": {
                    "title": "Job Wall Time",
                    "metric": "job_count",
                    "metricTitle": "Number of Jobs Ended",
                    "group_by" : "jobwalltime",
                    "groupByTitle": "Job Wall Time",
                    "rotate": true,
                    "arrowImg" : "right_arrow.png"
                }
            }
        ]
    }
]
